<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ï¼ˆé‡æ–°ï¼‰ä½“éªŒäº†ä¸€ä¸‹ GuixSD å’Œ NixOS - Untitled</title>
    <meta name="description" content="å¾ˆä¹…ä¹‹å‰å°±å¬è¯´ FSF çš„è€è´¼ä»¬æ•´äº†ä¸€ä¸ªæ–°åŒ…ç®¡ç†å’Œå‘è¡Œç‰ˆå« guix å’Œ GuixSDï¼Œå½“æ—¶çœ‹ä»‹ç»è¯´ guix æ˜¯ä¸ª â€œTransactional Package Managerâ€ï¼Œä¹‹åæ²¡æœ‰ä»”ç»†å»äº†è§£è¿‡ã€‚å‰ä¸¤å¤©çªç„¶çœ‹åˆ°æœ‰äººå‘äº†ä¸ªæ–‡ç« å®‰åˆ© GuixSDï¼Œçœ‹äº†ä¸€ä¸‹å‘ç°è¿™ç©æ„å„¿æ€ä¹ˆè·Ÿä¹‹å‰ä½“éªŒè¿‡ä¸€ä¸‹çš„ NixOS é‚£ä¹ˆåƒ...">
    <link href="//fonts.googleapis.com/css?family=Inconsolata:400,700&amp;subset=latin-ext,vietnamese"rel="stylesheet">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="https://v2bv.net/2019/guixsd-and-nixos">
    <link rel="alternate" type="application/rss+xml" title="Untitled" href="https://v2bv.net/feed.xml">
    <link rel="manifest" href="/manifest.json">
    <script>
      if('serviceWorker' in navigator) {
        navigator.serviceWorker
          .register('/service-worker.js')
          .then(function() { console.log("Service Worker Registered"); });
      }
    </script>
    <link rel="amphtml" href="https://v2bv.net/amp/2019/guixsd-and-nixos">
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-97897080-1', 'auto');
      ga('send', 'pageview');
    </script>
    <script type="application/ld+json">
      {
          "@context": "https://schema.org",
          "@type": "Article",
          "publisher": {
              "@type": "Organization",
              "name": "Sth.",
              "logo": "/favicon.ico"
          },
          "author": {
              "@type": "Person",
              "name": "Kay",
              "image": {
                  "@type": "ImageObject",
                  "url": "/avatar.jpg",
              },
              "description": "Untitled"
          },
          "headline": "ï¼ˆé‡æ–°ï¼‰ä½“éªŒäº†ä¸€ä¸‹ GuixSD å’Œ NixOS",
          "url": "https://v2bv.net",
          "datePublished": "Jan 23, 2019",
          "mainEntityOfPage": {
              "@type": "WebPage",
              "@id": "https://v2bv.net"
          }
      }
    </script>
  </head>
  <body>
    <div class="u-container">
      <div class="c-page">
        <article class="c-article">
          <header class="c-page__header" id="page_header">
            <h1 itemprop="articleSection">Untitled</h1>
            <p>
              <a href="/">&lt;&ndash;&ndash; Back</a>
            </p>
          </header>
          <div class="c-article__main">
            <article class="c-article">
              <header class="c-article__header">
                <div id="article_title">
                  <h1 class="c-article__title">ï¼ˆé‡æ–°ï¼‰ä½“éªŒäº†ä¸€ä¸‹ GuixSD å’Œ NixOS</h1>
                </div>
                <div id="article_time">
                  <p class="c-article__time">
                    <time content="2019-01-23">
                      Jan 23, 2019
                    </time>
                  </p>
                </div>
              </header>
              <div class="c-article__main">
                <p>å¾ˆä¹…ä¹‹å‰å°±å¬è¯´ FSF çš„è€è´¼ä»¬æ•´äº†ä¸€ä¸ªæ–°åŒ…ç®¡ç†å’Œå‘è¡Œç‰ˆå« guix å’Œ GuixSDï¼Œå½“æ—¶çœ‹ä»‹ç»è¯´ guix æ˜¯ä¸ª â€œTransactional Package Managerâ€ï¼Œä¹‹åæ²¡æœ‰ä»”ç»†å»äº†è§£è¿‡ã€‚å‰ä¸¤å¤©çªç„¶çœ‹åˆ°æœ‰äººå‘äº†ä¸ªæ–‡ç« å®‰åˆ© GuixSDï¼Œçœ‹äº†ä¸€ä¸‹å‘ç°è¿™ç©æ„å„¿æ€ä¹ˆè·Ÿä¹‹å‰ä½“éªŒè¿‡ä¸€ä¸‹çš„ NixOS é‚£ä¹ˆåƒï¼ŸæŸ¥äº†ä¸€ä¸‹æ‰çŸ¥é“è¿™å¥½åƒå°±æ˜¯ä¸ª nix ï¼ˆNixOS çš„åŒ…ç®¡ç†ï¼‰çš„ fork æ¥ç€ã€‚æ„Ÿè§‰ FSF çš„è€è´¼ä»¬çœŸçš„æ˜¯ä»€ä¹ˆå‘è¡Œç‰ˆç«äº†å°±ç…§ç€åšä¸€ä¸ªå…¨è‡ªç”±è½¯ä»¶çš„ GNU/Linux-libre å‘è¡Œç‰ˆã€‚ä¸è¿‡è¿™æ¬¡ guix ç›¸æ¯” nix è¿˜æ˜¯æœ‰ä¸å°‘æ”¹åŠ¨çš„ï¼ˆä¸åƒåˆ«çš„å°±åªæ˜¯é‡æ–°æ‰“äº†ä¸ªåŒ…ï¼‰ï¼Œé…ç½®æ–‡ä»¶ä½¿ç”¨çš„è¯­è¨€ä» nix è‡ªåˆ›çš„ nix æ¢æˆäº† Guile Schemeï¼Œinit ç³»ç»Ÿä» systemd æ¢æˆäº† Shepherdï¼ˆæˆ‘å‰å‡ å¤©æ‰å¬è¯´æœ‰è¿™ä¹ˆä¸ªä¸œè¥¿ï¼Œæœ¬æ¥æ˜¯ç»™ Hurd ç”¨çš„ï¼‰ ï¼ŒæˆåŠŸåœ°è®©æˆ‘èµ·äº†å…´è¶£ï¼ˆè™½ç„¶æˆ‘çš„å…´è¶£ä¸å€¼é’±ï¼‰ã€‚</p>
                <p>å®‰è£…è¿‡ç¨‹ä»€ä¹ˆçš„æˆ‘å°±ä¸å¤šè¯´äº†ï¼Œä¸¤è¾¹éƒ½æœ‰æ–‡æ¡£ï¼Œä¸ªäººæ„Ÿè§‰ NixOS çš„æ–‡æ¡£æ›´è¯¦ç»†ä¸€ç‚¹ä½†æ˜¯ä¹Ÿæ›´ä¹±ã€‚åé¢ä¼šå¸¦ä¸Šæˆ‘ç”¨çš„é…ç½®ã€‚</p>
                <p>è¿™ä¸¤ä¸ªå‘è¡Œç‰ˆåšçš„å°±æ˜¯è®©ä¸€ä¸ªåŒ…ç®¡ç†æ ¹æ®ä¸€å¥—é…ç½®ç®¡ç†æ•´ä¸ªç³»ç»Ÿï¼ˆåŒ…æ‹¬è½¯ä»¶æœ¬èº«å’Œå„ç§é…ç½®ï¼‰ï¼›åŒæ—¶æŠŠæ‰€æœ‰è½¯ä»¶éƒ½æ”¾åˆ°ä¸€ä¸ªç›®å½•ä¸‹é›†ä¸­ç®¡ç†ï¼ˆguix ä¸‹æ˜¯ /gnuï¼ŒNixOS ä¸‹æ˜¯ /nixï¼‰ï¼Œç„¶ååœ¨æ ¹æ®ä¸€å®šè®¾ç½®åˆ›å»º symlink åˆ°å¦ä¸€ä¸ªç›®å½•ä¸‹æ¨¡æ‹Ÿå‡ºä¸€ä¸ªç¯å¢ƒå« profile ä½¿ç”¨ã€‚ä¼˜ç‚¹æ˜¯ä½ æƒ³è®©å¤šå°‘ä¸ªä¸åŒç‰ˆæœ¬çš„åŒä¸€ä¸ªè½¯ä»¶å…±å­˜å°±èƒ½æ”¾å‡ ä¸ªï¼Œè¿˜æœ‰å›æ»šç³»ç»Ÿç­‰ç­‰çš„èƒ½åŠ›ã€‚å¤§æ¦‚å¯ä»¥ç†è§£ä¸ºåšä¸€ä¸ªé«˜çº§ç‰ˆçš„ snapd æˆ– flatpak æˆ– dockerï¼Œç„¶åç”¨å®ƒæ¥ç®¡ç†æ•´ä¸ªç³»ç»Ÿã€‚å…·ä½“å¯ä»¥å»çœ‹ä»–ä»¬çš„ä»‹ç»ï¼Œæ¯”å¦‚ <a href="https://nixos.org/nixos/nix-pills/">Nix Pills</a>ï¼Œæˆ‘è¯­æ–‡ä¸å¥½å°±ä¸å¤šè¯´äº†ã€‚</p>
                <p>åæ­£ä½“éªŒå°±æ˜¯ï¼Œè£…å®Œäº†ä¹‹åï¼Œä»€ä¹ˆ /nix æˆ– /gnu ä¹‹å¤–ï¼Œå‡ ä¹ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œ/run ä¸‹é¢æˆå¨æˆå¨çš„ symlinkã€‚</p>
                <p>ï¼ˆå“¦å¯¹äº†ï¼Œguix å’Œ nix éƒ½å¯ä»¥åœ¨åˆ«çš„å‘è¡Œç‰ˆä¸Šè¿è¡Œï¼Œnix ç”šè‡³èƒ½ç”¨æ¥æ‹¯æ•‘ macOSï¼Œä¸ä¸€å®šè¦è£…ä»–ä»¬çš„å‘è¡Œç‰ˆä¹Ÿèƒ½ä½“éªŒåˆ°ä¸€éƒ¨åˆ†åŠŸèƒ½ã€‚ï¼‰</p>
                <p>å¬èµ·æ¥å¾ˆç¾å¥½ï¼Œä½†æ˜¯è¿™è·Ÿç°æœ‰ Linux å‘è¡Œç‰ˆåŒºåˆ«è¿˜æ˜¯å¾ˆå¤§ï¼Œä¸¤ä¸ªå‘è¡Œç‰ˆæœ¬èº«äººæ‰‹ä¹Ÿä¸ç®—å¤šï¼Œå°±å¯¼è‡´ä¼šæœ‰ä¸€äº›é—®é¢˜ï¼Œå°±æ¯”å¦‚ï¼š</p>
                <p>å…±åŒçš„å‘ï¼š</p>
                <ul>
                  <li><strong>å®Œå…¨</strong>ä¸éµå®ˆ LSBï¼Œåˆ«äººå‘è¡Œçš„äºŒè¿›åˆ¶é™¤é patchelf ä¸ç„¶éƒ½ä¸èƒ½è¿è¡Œã€‚</li>
                  <li>æ€»ä½“æ¥è¯´èµ„æ–™è¿˜æ˜¯å°‘ï¼Œè™½ç„¶ NixOS å·²ç»æ˜¯ä¸€ä¸ªä» 2003 å¹´å¼€å§‹å°±æœ‰çš„è€é¡¹ç›®äº†ï¼Œæ–‡æ¡£è¿˜æ˜¯ä¸ç®—å¤šï¼›è‡³äº guixâ€¦ åŒ…ç®¡ç†ç›¸å…³çš„ä¸œè¥¿å€’æ˜¯éƒ½æœ‰æ–‡æ¡£ï¼Œä½†æ˜¯ç¼ºä¹æ–°æ‰‹æŒ‡å¼•å’Œç¤ºä¾‹å¯¼è‡´å¾ˆå¤šéƒ¨åˆ†å¾ˆéš¾çœ‹æ‡‚ï¼ˆæ¯”å¦‚è®¾ç½®é»˜è®¤ shell çš„è¯­æ³•ï¼Œæ–‡æ¡£é‡Œè¯´æ˜¯ç”¨ä¸€ä¸ª G-Expressionï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å†™æ˜å…·ä½“çš„ä½¿ç”¨æ–¹æ³•ï¼ŒG-Expression çš„æ–‡æ¡£é¡µé¢ä¹Ÿæ²¡è¯´ä½¿ç”¨æ–¹æ³•ï¼‰ï¼Œéƒ¨åˆ†å¸¸è§é—®é¢˜å€’æ˜¯èƒ½åœ¨é‚®ä»¶åˆ—è¡¨é‡Œæ‰¾åˆ°ï¼Œæ€»ä½“æ¥è¯´è¿˜æ˜¯å°‘ã€‚</li>
                  <li>å¯èƒ½æ˜¯å› ä¸ºå¯¹è½¯ä»¶çš„é­”æ”¹è¿˜ä¸å¤Ÿå½»åº•ï¼Œæœ‰çš„æ—¶å€™è¿˜æ˜¯ä¼šé‡åˆ°ç‚¹å°é—®é¢˜ã€‚</li>
                  <li>å¯èƒ½å› ä¸ºä¸­æ–‡ç”¨æˆ·è¾ƒå°‘ï¼Œè¿™ä¸¤ä¸ªå‘è¡Œç‰ˆçš„é»˜è®¤ä¸­æ–‡å­—ä½“æ¸²æŸ“éƒ½å¾ˆçƒ‚ã€‚</li>
                </ul>
                <p>GuixSDï¼š</p>
                <p><strong>ï¼ˆGuixSD è¿˜æ˜¯æ–°å‘è¡Œç‰ˆï¼Œä»¥åå¯èƒ½è¿˜ä¼šæœ‰æ”¹åŠ¨ï¼Œä¸‹é¢æ‰€æœ‰çš„éƒ½æ˜¯åŸºäº 0.16 ç‰ˆæ¥è¯´ï¼‰</strong></p>
                <ul>
                  <li>å®ƒæ˜¯ä¸€ä¸ª GNU/Linux-libre çš„å…¨è‡ªç”±è½¯ä»¶çš„å‘è¡Œç‰ˆï¼Œè¿™æ„å‘³ç€å®ƒåœ¨éå¸¸æ¸…è’¸çš„åŒæ—¶ä¹Ÿä¸¢æ‰äº†å¯¹å¾ˆå¤šç¡¬ä»¶/ç¨‹åºçš„æ”¯æŒï¼ˆé™¤éè‡ªè¡Œæ‰“åŒ…å†…æ ¸å’Œé‚£äº›å¯¹åº”çš„è½¯ä»¶ï¼‰ã€‚åªæ˜¯æˆ‘æ‰‹å¤´æ­£å¥½æœ‰ä¸€å°æ¢äº† ath9k ç½‘å¡çš„ ThinkPad X220 æ‰å¯ä»¥æ— ç—›ä½¿ç”¨ï¼Œä¸ç„¶æ— çº¿ç½‘å¡é©±åŠ¨ã€æ˜¾å¡é©±åŠ¨ç­‰ç­‰å¯èƒ½éƒ½ä¼šæœ‰é—®é¢˜ã€‚åŒæ—¶é‚£ç¾¤ç»´æŠ¤è€…åœ¨è‡ªç”±è½¯ä»¶ä¸Šä¹Ÿæ˜¯æ¿€è¿›è¿‡å¤´äº†ï¼Œ<a href="https://gnunet.org/bot/log/guix/2016-05-16">ä¹‹å‰</a>æœ‰äººåœ¨ IRC ä¸Šé—®èƒ½ä¸èƒ½æ‰“åŒ… Telegram Desktopï¼ˆGPLv3ï¼‰ï¼Œå¯èƒ½æ˜¯ç»´æŠ¤è€…çš„å‡ ä¸ªäººåœ¨è®¨è®ºä¹‹åè¯´â€œè¿™ IM æœåŠ¡ç«¯ä¸è‡ªç”±è¿˜æ˜¯ç”¨ IRC æˆ–ç”µé‚®å§â€å°±ä¸äº†äº†ä¹‹äº†ï¼Œåˆ°ç°åœ¨éƒ½æ²¡æ‰“åŒ…ã€‚</li>
                  <li>æˆ‘ç…§ç€å®˜æ–¹æ–‡æ¡£é…äº† LUKS ç»“æœä¸èƒ½å¯åŠ¨ï¼Œæœ€åè¿˜æ˜¯ç”¨äº†æ™®é€š ext4ã€‚è¯´èµ·æ¥æŒºæç¬‘çš„â€¦ å®ƒæŠŠå†…æ ¸ä»€ä¹ˆçš„å…¨æ”¾åœ¨ LUKS åŠ å¯†è¿‡çš„åˆ†åŒºé‡Œï¼ŒGRUB ä¸Šä¹Ÿä¸åšåˆ«çš„é…ç½®ï¼Œèƒ½å¯åŠ¨æ‰æ€ªäº†â€¦</li>
                  <li>æœ‰éƒ¨åˆ†åŒ…ä¸Šæ¸¸æ²¡æœ‰è¿›è¡Œæ„å»ºï¼Œè¿™æ—¶å€™ guix ä¼šè‡ªåŠ¨ä¸‹è½½å·¥å…·é“¾è¿›è¡Œç¼–è¯‘å®‰è£…ï¼ˆæ¯”å¦‚ IceCatï¼Œè‡ªç”±ç‰ˆæœ¬çš„ Firefoxï¼Œæˆ‘ X220 ä¸Šç¼–è¯‘èŠ±äº†å‡ ä¸ªå°æ—¶ï¼‰ï¼Œè¿™å°±æ„å‘³ç€åœ¨è€æœºå™¨ä¸Šå®‰è£…åŒ…å¯èƒ½ä¼šæ¯”è¾ƒç—›è‹¦ã€‚</li>
                  <li>è¿˜æ˜¯ä¹‹å‰è¯´çš„æ–‡æ¡£é—®é¢˜ï¼Œæˆ‘èŠ±äº†æŒºå¤šæ—¶é—´éƒ½æ²¡æ‰¾åˆ°è®©å®ƒæ ¹æ® file system label æ¥å¯ç”¨ SWAP åˆ†åŒºçš„æ–¹æ³•ï¼Œè€Œè¿™æ ·çš„é—®é¢˜è¿˜æœ‰ä¸å°‘ã€‚</li>
                  <li>å·¥å…·é“¾ç‰ˆæœ¬æœ‰ç‚¹å¥‡å¦™ï¼Œæˆ‘çœ‹å®ƒå®‰è£…çš„æ—¶å€™ GCC 5 6 7 8 éƒ½ä¸‹è½½äº†ä¸€éï¼Œç›´æ¥å®‰è£… GCC ç«Ÿç„¶è£…çš„æ˜¯ GCC 5.5.0ï¼Œ9102 å¹´äº†è¿˜ 5.5.0â€¦ å¤ªä¸¢äººäº†ï¼ˆè¿˜äºå®ƒæ˜¯ FSF äº²å„¿å­å‘¢ï¼‰ã€‚</li>
                  <li>IME æ”¯æŒå¾ˆçƒ‚ï¼Œfcitx åªæ‰“äº† fcitx æœ¬ä½“å’Œ fcitx-configtoolï¼›RIME ä¹‹ç±»çš„è¾“å…¥æ³•å¼•æ“å…¨å½’ç±»åˆ° iBus æ¨¡å—ä¸‹é¢äº†ï¼Œæˆ‘åœ¨ IRC é¢‘é“é‡Œé—®äº†ç›¸å…³äº‹æƒ…å°±ç›´æ¥è¢«å¿½ç•¥äº†ï¼›iBus è£…ä¸Šä¹‹åé™¤ GNOME å¤–éƒ½æ²¡åŠæ³•è®©å®ƒè‡ªåŠ¨å¯åŠ¨ï¼Œä¼ ç»Ÿå‘è¡Œç‰ˆä¸Š .xprofile é‡ŒåŠ å˜é‡çš„æ–¹å¼å®Œå…¨æ²¡ç”¨ï¼Œæ–‡æ¡£é‡Œä¹Ÿæ²¡æœ‰æåˆ°ä»»ä½•ç›¸å…³çš„ä¸œè¥¿ï¼›<del>RIME å¯èƒ½æ˜¯åçš„ï¼Œæ— æ³•å¯åŠ¨ã€‚</del><br />
                    åæ¥æœ‰ä¸ªå¤§ä½¬åœ¨ Telegram é‡Œè”ç³»äº†æˆ‘ï¼Œè¯´ RIME å®é™…æ˜¯å¯ä»¥ç”¨çš„ï¼Œä½†æ˜¯éœ€è¦<a href="https://github.com/guix-china/help">é¢å¤–çš„è®¾ç½®</a>ï¼Œè¿˜æ˜¯æ²¡æœ‰ NixOS ç”¨çš„æ–¹æ³•å®Œå–„ã€‚å¯èƒ½éœ€è¦æœ‰çŸ¥é“æ€ä¹ˆåšæ‰å¥½çš„äººå»æŠŠå®ƒåšæˆä¸€ä¸ª moduleï¼ˆå°±åƒ NixOS é‚£æ ·ï¼‰ã€‚ä½†æˆ‘åº”è¯¥ä¸ä¼šæ˜¯é‚£ä¸ªäººï¼ŒåŸå› è§ä¸‹ã€‚</li>
                  <li>MATE ä¸‹çš„é”å±æ˜¯åçš„ï¼ˆä»€ä¹ˆéƒ½ä¸åšå°±è¯´ Authentication Failedï¼‰ï¼Œxfce ä¸‹æ— æ³•å¯åŠ¨è¾“å…¥æ³•ï¼Œå°±åªæœ‰ GNOME å¯èƒ½è¿˜èƒ½ç”¨ã€‚</li>
                  <li>fontconfig åªä¼šè¯»ç”¨æˆ· profile ä¸‹çš„å­—ä½“ã€‚</li>
                  <li>Shepherd è¿˜æ˜¯å¤ªå†·é—¨æƒ¹â€¦ å¯åŠ¨é€Ÿåº¦ä¹Ÿæ¯” systemd æ…¢<del>ï¼ˆä¸è¿‡è‡³å°‘æ¯” BSD init å¿«ï¼‰</del>ã€‚</li>
                </ul>
                <p>æˆ‘æ²¡å»æŠ¥ bug çš„åŸå› æ˜¯ï¼šä¸€ï¼Œæˆ‘æ‡’ï¼Œæˆ‘å»é—®é—®é¢˜éƒ½æ²¡äººç†æˆ‘ï¼Œæˆ‘å¹²å˜›è¦å¸®ä»–ä»¬ï¼ˆè™½ç„¶æˆ‘ä¹Ÿå¸®ä¸å¤§ä¸Šï¼‰ï¼›äºŒï¼Œä»–ä»¬çš„ Bug tracker å¤ªç¡¬æ ¸å»â€¦ åªæœ‰é‚®ä»¶åˆ—è¡¨ï¼ŒBug report å’Œæäº¤ patch éƒ½åœ¨ä¸€èµ·çš„ï¼Œæˆ‘ä¸æ•¢è¯´è¯ ğŸ¤¦â€â™€ï¸</p>
                <p>NixOSï¼š</p>
                <ul>
                  <li>é»˜è®¤çš„åŒ…æœ‰ç‚¹è€äº†â€¦ å†…æ ¸é»˜è®¤è¿˜åœ¨ç”¨ 4.14â€¦ Stable æœ€æ–° 4.19ï¼Œ Unstable å·²ç»æ‰“äº† 4.20ï¼Œéœ€è¦æ‰‹åŠ¨æŒ‡å®šæ‰èƒ½ç”¨æ–°çš„ã€‚</li>
                  <li>å¬è¯´ Nixpkgs Unstable çš„åŒ…æ•°é‡éƒ½å¿«è¶…è¿‡ AUR äº†ï¼ˆè€æ—©è¶…è¿‡ Debiantai äº†ï¼‰ï¼Œä½†æ˜¯å®é™…ç”¨çš„æ—¶å€™è¿˜æ˜¯æ¯” AUR å°‘äº†ä¸€äº›ä¸œè¥¿ã€‚</li>
                  <li>IME åŸºæœ¬èƒ½ç”¨ï¼Œä½†æ˜¯æˆ‘å®åœ¨ä¸çŸ¥é“æ‰“äº† fcitx-rime ä¸æ‰“ ibus-rime æ˜¯ä»€ä¹ˆæ“ä½œâ€¦ è¦ä¸è¿‡ä¸¤å¤©æˆ‘æ‰“ä¸ªè¯•è¯•ï¼Ÿ</li>
                  <li>å› ä¸ºæ˜¯è‡ªåŠ¨æ£€æŸ¥æ›´æ–°å¹¶æ‰“åŒ…çš„ï¼Œæ‰€ä»¥æœ‰æ—¶å€™ä¼šæ‰“äº† Unstable çš„è½¯ä»¶ï¼Œæ¯”å¦‚è¯´è¿™æ¬¡ MATE å°±æ‰“äº†ä¸ª 1.21â€¦ ç„¶åä¸€äº›ä¸»é¢˜ç‚¸äº†ã€‚æˆ‘æ‰¾åˆ°äº†ä¸€ä¸ªç›¸å…³çš„é™çº§å› 1.20 çš„ PRï¼Œæˆ‘ç¨å¾®å‚¬äº†ä¸€ä¸‹é©¬ä¸Šå°±ç»™åˆå¹¶äº†ï¼Œå¹¶ä¸”ç¦æ­¢äº† bot è‡ªåŠ¨æŸ¥æ‰¾ MATE çš„æ–°ç‰ˆæœ¬ï¼ˆå¯èƒ½ä»–ä»¬çš„ bot è¿˜ä¸æ”¯æŒæ ¹æ®ä¸€å®šè§„åˆ™è·³è¿‡éƒ¨åˆ†ç‰ˆæœ¬ï¼Ÿï¼‰ï¼Œç»™æˆ‘æ„Ÿè§‰è¿˜æ˜¯æŒºå¥½çš„ XD</li>
                </ul>
                <p>æ€»çš„æ¥è¯´æ„Ÿè§‰ NixOS çš„å¯ç”¨æ€§æ¯” GuixSD é«˜å‡ºä¸€å¤§æˆªã€‚å¦å¤–è™½ç„¶æˆ‘æƒ³è¯´æˆ‘æ›´å–œæ¬¢ Scheme è€Œä¸æ˜¯è¿™ä¸ª nixâ€¦ ä½†æ˜¯æ„Ÿè§‰æœ‰çš„æ—¶å€™è¿˜æ˜¯ nix çš„å¯è¯»æ€§æ›´å¥½ä¸€ç‚¹ã€‚</p>
                <p>å…¶å®æˆ‘æ„Ÿè§‰ä»–ä»¬æ—¢ç„¶éƒ½å·²ç»æœ‰é‚£ä¹ˆå¤šå¨ symlink äº†ï¼Œä¸ºä»€ä¹ˆä¸å¹²è„†éµå®ˆä¸€ä¸‹ LSB å‘¢ï¼Œæ— éå°±æ˜¯å†å¤šå‡ å¨ symlinkâ€¦ è¿™æ ·ç¢ç‰‡åŒ–è¶Šæ¥è¶Šä¸¥é‡å¯¹æ•´ä¸ªç¤¾åŒºéƒ½æ²¡ä»€ä¹ˆå¥½å¤„å•Šã€‚<br />
                  å¤šç‰ˆæœ¬å…±å­˜ï¼Ÿå®é™…ä½¿ç”¨åœºæ™¯å¹¶ä¸å¤šã€‚å…¶å®è¿™æ–¹é¢æ„Ÿè§‰çœŸçš„å¾ˆåƒ flatpak æˆ– snapâ€¦<br />
                  Reproducible buildï¼Ÿ è¿™åº”è¯¥æ˜¯å¤§å¤šæ•°å‘è¡Œç‰ˆçš„æ‰“åŒ…ç³»ç»Ÿçš„æ ‡é…å§ï¼Œåªæ˜¯ä»–ä»¬æŠŠè¿™æš´éœ²ç»™äº†æ™®é€šç”¨æˆ·ã€‚<br />
                  è‡³äºèµ„æ–™çš„è¯å®ƒä»¬æ¯•ç«Ÿè¿˜ç®—æ˜¯æ¯”è¾ƒå†·é—¨çš„â€¦ è¿˜ç®—èƒ½åŸè°…ã€‚</p>
                <p>è‡³äºè¯´è¿™æ˜¯ Linux å‘è¡Œç‰ˆçš„æœªæ¥å—ï¼Ÿæˆ‘ä¸çŸ¥é“å•Šã€‚è¿™ç¡®å®çœ‹ä¸Šå»å¾ˆæœ‰è¶£ï¼Œä½†æ˜¯å®é™…ä½¿ç”¨ä¸Šå¹¶æ²¡æœ‰é‚£ä¹ˆç¾å¥½ï¼ŒåŒæ—¶æ„Ÿè§‰ä¹Ÿç¼ºå°‘èƒ½ç«äº‰è¿‡ä¼ ç»Ÿå‘è¡Œç‰ˆçš„åœ°æ–¹ã€‚</p>
                <hr />
                <p>æˆ‘ GuixSD çš„é…ç½®å…¶å®è·Ÿå®˜æ–¹ç¤ºä¾‹æ¯”æ²¡å¤šå¤§å˜åŒ–â€¦ å› ä¸ºä¸çŸ¥é“æ€ä¹ˆæ”¹ï¼š</p>
                <div class="language-scheme highlighter-rouge">
                  <div class="highlight">
                    <pre class="highlight"><code><span class="c1">;; This is an operating system configuration template</span>
<span class="c1">;; for a "desktop" setup with GNOME and Xfce where the</span>
<span class="c1">;; root partition is encrypted with LUKS.</span>

<span class="p">(</span><span class="nf">use-modules</span> <span class="p">(</span><span class="nf">gnu</span><span class="p">)</span> <span class="p">(</span><span class="nf">gnu</span> <span class="nv">system</span> <span class="nv">nss</span><span class="p">))</span>
<span class="p">(</span><span class="nf">use-service-modules</span> <span class="nv">desktop</span> <span class="nv">ssh</span><span class="p">)</span>
<span class="p">(</span><span class="nf">use-package-modules</span> <span class="nv">certs</span> 
                     <span class="nv">xorg</span> <span class="nv">mate</span> <span class="nv">fonts</span> <span class="nv">fontutils</span> <span class="nv">gnome</span> <span class="nv">freedesktop</span> <span class="nv">xdisorg</span>
                     <span class="nv">ssh</span> <span class="nv">shells</span> <span class="nv">ncurses</span> <span class="nv">file</span>
                     <span class="nv">gnuzilla</span> <span class="nv">curl</span> <span class="nv">wget</span> <span class="nv">rsync</span>
                     <span class="nv">gcc</span> <span class="nv">ibus</span>
                     <span class="nv">version-control</span><span class="p">)</span>

<span class="p">(</span><span class="nf">operating-system</span>
  <span class="p">(</span><span class="nf">host-name</span> <span class="s">"x220"</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">timezone</span> <span class="s">"America/Los_Angeles"</span><span class="p">)</span>
  <span class="p">(</span><span class="nf">locale</span> <span class="s">"en_US.utf8"</span><span class="p">)</span>

  <span class="c1">;; Use the UEFI variant of GRUB with the EFI System</span>
  <span class="c1">;; Partition mounted on /boot/efi.</span>
  <span class="p">(</span><span class="nf">bootloader</span> <span class="p">(</span><span class="nf">bootloader-configuration</span>
                <span class="p">(</span><span class="nf">bootloader</span> <span class="nv">grub-efi-bootloader</span><span class="p">)</span>
                <span class="p">(</span><span class="nf">target</span> <span class="s">"/boot/efi"</span><span class="p">)))</span>

  <span class="p">(</span><span class="nf">kernel-arguments</span> <span class="o">'</span><span class="p">(</span><span class="s">"thinkpad_acpi.fan_control=1"</span><span class="p">))</span>

  <span class="c1">;; Specify a mapped device for the encrypted root partition.</span>
  <span class="c1">;; The UUID is that returned by 'cryptsetup luksUUID'.</span>
  <span class="c1">;;</span>
  <span class="c1">;; (mapped-devices</span>
  <span class="c1">;;  (list (mapped-device</span>
  <span class="c1">;;         (source (uuid "5786a4c6-9a95-4b4d-97e5-8ae7c5a99f44"))</span>
  <span class="c1">;;         (target "root")</span>
  <span class="c1">;;         (type luks-device-mapping))))</span>

  <span class="p">(</span><span class="nf">file-systems</span> <span class="p">(</span><span class="nf">cons*</span> <span class="p">(</span><span class="nf">file-system</span>
                         <span class="p">(</span><span class="nf">device</span> <span class="p">(</span><span class="nf">file-system-label</span> <span class="s">"GUIX"</span><span class="p">))</span>
                         <span class="p">(</span><span class="nf">mount-point</span> <span class="s">"/"</span><span class="p">)</span>
                         <span class="p">(</span><span class="nf">type</span> <span class="s">"ext4"</span><span class="p">))</span>
                         <span class="c1">;; (dependencies mapped-devices))</span>
                       <span class="p">(</span><span class="nf">file-system</span>
                         <span class="p">(</span><span class="nf">device</span> <span class="p">(</span><span class="nf">file-system-label</span> <span class="s">"EFI"</span><span class="p">))</span>
                         <span class="p">(</span><span class="nf">mount-point</span> <span class="s">"/boot/efi"</span><span class="p">)</span>
                         <span class="p">(</span><span class="nf">type</span> <span class="s">"vfat"</span><span class="p">))</span>
                       <span class="nv">%base-file-systems</span><span class="p">))</span>

  <span class="p">(</span><span class="nf">swap-devices</span> <span class="o">'</span><span class="p">(</span><span class="s">"/dev/sda3"</span><span class="p">))</span>

  <span class="p">(</span><span class="nf">users</span> <span class="p">(</span><span class="nb">cons</span> <span class="p">(</span><span class="nf">user-account</span>
                <span class="p">(</span><span class="nf">name</span> <span class="s">"kay"</span><span class="p">)</span>
                <span class="p">(</span><span class="nf">comment</span> <span class="s">"Kay"</span><span class="p">)</span>
                <span class="p">(</span><span class="nf">group</span> <span class="s">"users"</span><span class="p">)</span>
                <span class="p">(</span><span class="nf">supplementary-groups</span> <span class="o">'</span><span class="p">(</span><span class="s">"wheel"</span> <span class="s">"netdev"</span>
                                        <span class="s">"audio"</span> <span class="s">"video"</span><span class="p">))</span>
                <span class="p">(</span><span class="nf">home-directory</span> <span class="s">"/home/kay"</span><span class="p">)</span>
                <span class="p">(</span><span class="nf">shell</span> <span class="o">#</span><span class="nv">~</span><span class="p">(</span><span class="nb">string-append</span> <span class="o">#</span><span class="nv">$zsh</span> <span class="s">"/bin/zsh"</span><span class="p">)))</span>
               <span class="nv">%base-user-accounts</span><span class="p">))</span>

  <span class="c1">;; This is where we specify system-wide packages.</span>
  <span class="p">(</span><span class="nf">packages</span> <span class="p">(</span><span class="nf">cons*</span> <span class="nv">nss-certs</span>         <span class="c1">;for HTTPS access</span>
                   <span class="c1">;; gvfs              ;for user mounts</span>
                   <span class="nv">openssh</span>
                   <span class="nv">zsh</span>
                   <span class="nv">icecat</span>
                   <span class="nv">curl</span> <span class="nv">wget</span> <span class="nv">rsync</span>
                   <span class="nv">git</span>
                   <span class="nv">fontconfig</span> <span class="nv">xdg-user-dirs</span>
                   <span class="c1">;; mate-screensaver</span>
                   <span class="nv">ncurses</span> <span class="nv">gcc</span> <span class="nv">binutils</span> <span class="nv">file</span>
                   <span class="nv">arc-theme</span>
                   <span class="nv">network-manager-applet</span>
                   <span class="nv">ibus</span> <span class="nv">ibus-rime</span> <span class="nv">librime</span> <span class="nv">rime-data</span>
                   <span class="nv">%base-packages</span><span class="p">))</span>

  <span class="c1">;; Add GNOME and/or Xfce---we can choose at the log-in</span>
  <span class="c1">;; screen with F1.  Use the "desktop" services, which</span>
  <span class="c1">;; include the X11 log-in service, networking with</span>
  <span class="c1">;; NetworkManager, and more.</span>
  <span class="p">(</span><span class="nf">services</span> <span class="p">(</span><span class="nf">cons*</span> <span class="p">(</span><span class="nf">mate-desktop-service</span><span class="p">)</span>
                   <span class="p">(</span><span class="nf">gnome-desktop-service</span><span class="p">)</span>
                   <span class="p">(</span><span class="nf">xfce-desktop-service</span><span class="p">)</span>
                   <span class="c1">;; (plasma-desktop-service) ;; Not there yet</span>
                   <span class="p">(</span><span class="nf">service</span> <span class="nv">openssh-service-type</span>
                     <span class="p">(</span><span class="nf">openssh-configuration</span>
                       <span class="p">(</span><span class="nf">x11-forwarding?</span> <span class="no">#t</span><span class="p">)))</span>
                   <span class="nv">%desktop-services</span><span class="p">))</span>

  <span class="c1">;; Allow resolution of '.local' host names with mDNS.</span>
  <span class="p">(</span><span class="nf">name-service-switch</span> <span class="nv">%mdns-host-lookup-nss</span><span class="p">))</span>
</code></pre>
                  </div>
                </div>
                <p>ç„¶åæ˜¯æˆ‘çš„ NixOS é…ç½®ï¼Œè¿™ä¸ªæˆ‘è¿˜æ˜¯èŠ±äº†ä¸€äº›æ—¶é—´æ”¹çš„ï¼Œå‚è€ƒäº†åˆ«äººçš„å‡ ä¸ªé…ç½®ï¼š
                  ï¼ˆè¿™ä¸ªåœ¨ä½¿ç”¨çš„æ—¶å€™è¦æ³¨æ„ï¼Œéœ€è¦å…ˆæ·»åŠ  <a href="https://github.com/NixOS/nixos-hardware">nixos-hardware</a> è¿™ä¸ª channelï¼Œç„¶åæ”¹æˆä½ çš„æœºå‹ï¼‰</p>
                <div class="language-nix highlighter-rouge">
                  <div class="highlight">
                    <pre class="highlight"><code><span class="c"># Edit this configuration file to define what should be installed on</span>
<span class="c"># your system.  Help is available in the configuration.nix(5) man page</span>
<span class="c"># and in the NixOS manual (accessible by running â€˜nixos-helpâ€™).</span>

<span class="p">{</span> <span class="nv">config</span><span class="p">,</span> <span class="nv">pkgs</span><span class="p">,</span> <span class="o">...</span> <span class="p">}:</span>

<span class="p">{</span>
  <span class="nv">imports</span> <span class="o">=</span>
    <span class="p">[</span> <span class="c"># Include the results of the hardware scan.</span>
      <span class="o">&lt;</span><span class="sx">nixos-hardware/lenovo/thinkpad/x220</span><span class="o">&gt;</span>
      <span class="sx">./hardware-configuration.nix</span>
    <span class="p">];</span>

  <span class="c"># Hardware configuration</span>
  <span class="nv">sound</span><span class="o">.</span><span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="nv">hardware</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nv">enableAllFirmware</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">cpu</span><span class="o">.</span><span class="nv">intel</span><span class="o">.</span><span class="nv">updateMicrocode</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">trackpoint</span><span class="o">.</span><span class="nv">emulateWheel</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">pulseaudio</span><span class="o">.</span><span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">bluetooth</span><span class="o">.</span><span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">opengl</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nv">driSupport</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="nv">driSupport32Bit</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">};</span>
  <span class="p">};</span>

  <span class="c"># Use the GRUB EFI boot loader.</span>
  <span class="nv">boot</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nv">loader</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nv">efi</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nv">canTouchEfiVariables</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="nv">efiSysMountPoint</span> <span class="o">=</span> <span class="s2">"/boot/efi"</span><span class="p">;</span>
      <span class="p">};</span>
      <span class="nv">systemd-boot</span><span class="o">.</span><span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">};</span>
    <span class="nv">kernelPackages</span> <span class="o">=</span> <span class="nv">pkgs</span><span class="o">.</span><span class="nv">linuxPackages_4_20</span><span class="p">;</span>
    <span class="nv">kernelParams</span> <span class="o">=</span> <span class="p">[</span>
      <span class="s2">"thinkpad_acpi.fan_control=1"</span>
      <span class="s2">"acpi_osi=</span><span class="se">\"</span><span class="s2">!Windows 2012</span><span class="se">\"</span><span class="s2">"</span>
      <span class="s2">"acpi_osi=Linux"</span>
      <span class="s2">"acpi=force"</span>
    <span class="p">];</span>
    <span class="nv">initrd</span><span class="o">.</span><span class="nv">kernelModules</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">"acpi"</span> <span class="s2">"thinkpad-acpi"</span> <span class="s2">"acpi-call"</span> <span class="p">];</span>
    <span class="nv">supportedFilesystems</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">"nfs"</span> <span class="s2">"ntfs"</span> <span class="s2">"exfat"</span> <span class="p">];</span>
  <span class="p">};</span>

  <span class="nv">networking</span><span class="o">.</span><span class="nv">hostName</span> <span class="o">=</span> <span class="s2">"x220"</span><span class="p">;</span> <span class="c"># Define your hostname.</span>
  <span class="nv">networking</span><span class="o">.</span><span class="nv">nameservers</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">"1.1.1.1"</span> <span class="s2">"1.0.0.1"</span> <span class="s2">"4.2.2.1"</span> <span class="s2">" 4.2.2.2"</span> <span class="s2">"9.9.9.9"</span> <span class="s2">"8.8.8.8"</span> <span class="s2">"8.8.4.4"</span> <span class="p">];</span>
  <span class="nv">networking</span><span class="o">.</span><span class="nv">networkmanager</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">dns</span> <span class="o">=</span> <span class="s2">"none"</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="c"># Configure network proxy if necessary</span>
  <span class="c"># networking.proxy.default = "http://user:password@proxy:port/";</span>
  <span class="c"># networking.proxy.noProxy = "127.0.0.1,localhost,internal.domain";</span>

  <span class="c"># Select internationalisation properties.</span>
  <span class="nv">i18n</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nv">consoleFont</span> <span class="o">=</span> <span class="s2">"Lat2-Terminus16"</span><span class="p">;</span>
    <span class="nv">consoleKeyMap</span> <span class="o">=</span> <span class="s2">"us"</span><span class="p">;</span>
    <span class="nv">defaultLocale</span> <span class="o">=</span> <span class="s2">"en_US.UTF-8"</span><span class="p">;</span>
    <span class="nv">inputMethod</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nv">enabled</span> <span class="o">=</span> <span class="s2">"ibus"</span><span class="p">;</span>
      <span class="nv">ibus</span><span class="o">.</span><span class="nv">engines</span> <span class="o">=</span> <span class="kn">with</span> <span class="nv">pkgs</span><span class="o">.</span><span class="nv">ibus-engines</span><span class="p">;</span> <span class="p">[</span> <span class="nv">libpinyin</span> <span class="nv">mozc</span> <span class="p">];</span>
    <span class="p">};</span>
  <span class="p">};</span>

  <span class="c"># Set your time zone.</span>
  <span class="nv">time</span><span class="o">.</span><span class="nv">timeZone</span> <span class="o">=</span> <span class="s2">"America/Los_Angeles"</span><span class="p">;</span>

  <span class="c"># List packages installed in system profile. To search, run:</span>
  <span class="c"># $ nix search wget</span>
  <span class="nv">environment</span><span class="o">.</span><span class="nv">systemPackages</span> <span class="o">=</span> <span class="kn">with</span> <span class="nv">pkgs</span><span class="p">;</span> <span class="p">[</span>
    <span class="nv">wget</span> <span class="nv">vim</span> <span class="nv">nano</span> <span class="nv">sudo</span> <span class="nv">tmux</span> <span class="nv">curl</span> <span class="nv">zsh</span> <span class="nv">networkmanagerapplet</span> <span class="nv">firefox</span>
    <span class="nv">unzip</span> <span class="nv">spotify</span> <span class="nv">w3m</span> <span class="nv">ntfs3g</span> <span class="nv">gptfdisk</span> <span class="nv">gcc</span> <span class="nv">autoconf</span> <span class="nv">bluez</span> <span class="nv">gnumake</span>
    <span class="nv">xclip</span> <span class="nv">ffmpeg</span> <span class="nv">cryptsetup</span> <span class="nv">pavucontrol</span> <span class="nv">automake</span> <span class="nv">unrar</span> <span class="nv">p7zip</span>
    <span class="nv">tdesktop</span> <span class="nv">git</span> <span class="nv">tilix</span> <span class="nv">file</span> <span class="nv">htop</span> <span class="nv">gtk-engine-murrine</span> <span class="nv">arc-theme</span>
    <span class="nv">gnome-themes-extra</span> <span class="nv">gnome-themes-standard</span> <span class="nv">papirus-icon-theme</span>
    <span class="nv">wireguard</span> <span class="nv">scrot</span> <span class="nv">neofetch</span> <span class="nv">restic</span> <span class="nv">ibus-qt</span>
  <span class="p">];</span>

  <span class="nv">nixpkgs</span><span class="o">.</span><span class="nv">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nv">android_sdk</span><span class="o">.</span><span class="nv">accept_license</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">allowUnfree</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="c"># powerManagement.cpuFreqGovernor = pkgs.lib.mkForce null;</span>

  <span class="c"># Some programs need SUID wrappers, can be configured further or are</span>
  <span class="c"># started in user sessions.</span>
  <span class="c"># programs.mtr.enable = true;</span>
  <span class="nv">programs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nv">light</span><span class="o">.</span><span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">adb</span><span class="o">.</span><span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">java</span><span class="o">.</span><span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">gnupg</span><span class="o">.</span><span class="nv">agent</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span> 
      <span class="nv">enableSSHSupport</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">};</span>
    <span class="nv">zsh</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="nv">ohMyZsh</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="nv">plugins</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">"git"</span> <span class="s2">"python"</span> <span class="s2">"man"</span> <span class="p">];</span>
        <span class="nv">theme</span> <span class="o">=</span> <span class="s2">"robbyrussell"</span><span class="p">;</span>
      <span class="p">};</span>
    <span class="p">};</span>
  <span class="p">};</span>

  <span class="c"># List services that you want to enable:</span>

  <span class="c"># Power related</span>
  <span class="nv">services</span><span class="o">.</span><span class="nv">tlp</span><span class="o">.</span><span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="nv">services</span><span class="o">.</span><span class="nv">thermald</span><span class="o">.</span><span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

  <span class="c"># Redshift</span>
  <span class="nv">services</span><span class="o">.</span><span class="nv">redshift</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">latitude</span> <span class="o">=</span> <span class="s2">"36.7"</span><span class="p">;</span>
    <span class="nv">longitude</span> <span class="o">=</span> <span class="s2">"119.8"</span><span class="p">;</span>
    <span class="nv">temperature</span><span class="o">.</span><span class="nv">day</span> <span class="o">=</span> <span class="mi">5700</span><span class="p">;</span>
    <span class="nv">temperature</span><span class="o">.</span><span class="nv">night</span> <span class="o">=</span> <span class="mi">3500</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="c"># Enable the OpenSSH daemon.</span>
  <span class="nv">services</span><span class="o">.</span><span class="nv">openssh</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">startWhenNeeded</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">forwardX11</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">allowSFTP</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">permitRootLogin</span> <span class="o">=</span> <span class="s2">"no"</span><span class="p">;</span>
    <span class="nv">openFirewall</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">passwordAuthentication</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="nv">challengeResponseAuthentication</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="c"># Firewall.</span>
  <span class="nv">networking</span><span class="o">.</span><span class="nv">firewall</span><span class="o">.</span><span class="nv">allowedTCPPorts</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">22</span> <span class="p">];</span>
  <span class="c"># networking.firewall.allowedUDPPorts = [ ... ];</span>
  <span class="c"># Or disable the firewall altogether.</span>
  <span class="c"># networking.firewall.enable = false;</span>

  <span class="c"># Enable CUPS to print documents.</span>
  <span class="nv">services</span><span class="o">.</span><span class="nv">printing</span><span class="o">.</span><span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

  <span class="c"># Enable the X11 windowing system.</span>
  <span class="nv">services</span><span class="o">.</span><span class="nv">xserver</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">layout</span> <span class="o">=</span> <span class="s2">"us"</span><span class="p">;</span>
    <span class="nv">xkbOptions</span> <span class="o">=</span> <span class="s2">"terminate:ctrl_alt_bksp"</span><span class="p">;</span>
    <span class="nv">videoDrivers</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">"modesetting"</span> <span class="p">];</span>
    <span class="nv">displayManager</span><span class="o">.</span><span class="nv">lightdm</span><span class="o">.</span><span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">desktopManager</span><span class="o">.</span><span class="nv">mate</span><span class="o">.</span><span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">libinput</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="nv">disableWhileTyping</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="nv">tapping</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">};</span>
  <span class="p">};</span>

  <span class="c"># Enable flatpak</span>
  <span class="nv">services</span><span class="o">.</span><span class="nv">flatpak</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">extraPortals</span> <span class="o">=</span> <span class="p">[</span> <span class="nv">pkgs</span><span class="o">.</span><span class="nv">xdg-desktop-portal-gtk</span> <span class="p">];</span>
  <span class="p">};</span>

  <span class="c"># Define a user account. Don't forget to set a password with â€˜passwdâ€™.</span>
  <span class="nv">users</span><span class="o">.</span><span class="nv">users</span><span class="o">.</span><span class="nv">kay</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nv">isNormalUser</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">uid</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">;</span>
    <span class="nv">home</span> <span class="o">=</span> <span class="s2">"/home/kay"</span><span class="p">;</span>
    <span class="nv">description</span> <span class="o">=</span> <span class="s2">"Kay"</span><span class="p">;</span>
    <span class="nv">shell</span> <span class="o">=</span> <span class="nv">pkgs</span><span class="o">.</span><span class="nv">zsh</span><span class="p">;</span>
    <span class="nv">extraGroups</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">"wheel"</span> <span class="s2">"audio"</span> <span class="s2">"video"</span> <span class="s2">"disk"</span> <span class="s2">"cdrom"</span> <span class="s2">"users"</span> <span class="s2">"systemd-journal"</span> <span class="s2">"lp"</span> <span class="s2">"networkmanager"</span> <span class="p">];</span>
    <span class="nv">openssh</span><span class="o">.</span><span class="nv">authorizedKeys</span><span class="o">.</span><span class="nv">keys</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">"ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDWeay/xBNMhnBy3GJcGkQNNa44gRBqXYa+F4RW6VW1E kay@bazinga"</span> <span class="p">];</span>
  <span class="p">};</span>

  <span class="nv">security</span><span class="o">.</span><span class="nv">sudo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nv">enable</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nv">wheelNeedsPassword</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="c"># This value determines the NixOS release with which your system is to be</span>
  <span class="c"># compatible, in order to avoid breaking some software such as database</span>
  <span class="c"># servers. You should change this only after NixOS release notes say you</span>
  <span class="c"># should.</span>
  <span class="nv">system</span><span class="o">.</span><span class="nv">stateVersion</span> <span class="o">=</span> <span class="s2">"18.09"</span><span class="p">;</span> <span class="c"># Did you read the comment?</span>

<span class="p">}</span>
</code></pre>
                  </div>
                </div>
                <p>æˆ‘å°±æ”¾åœ¨ <a href="https://v2bv.net/configuration.nix">https://v2bv.net/configuration.nix</a> å¥½å»ï¼</p>
                <hr />
                <p>è¯´èµ·æ¥è¿˜æœ‰ä¸ª Fedora SilverBlue çœ‹èµ·æ¥ä¹ŸæŒºæœ‰æ„æ€ï¼Œä»€ä¹ˆæ—¶å€™å»è¯•è¯•çœ‹ï¼ˆ</p>
                <div id="disqus_thread"></div>
                <script>
                  var disqus_config = function () {
                    this.page.url = "https://v2bv.net/2019/guixsd-and-nixos";
                    this.page.identifier = "/2019/guixsd-and-nixos";
                  };
                  (function() {
                    var d = document, s = d.createElement('script');
                    s.src = '//sth-1.disqus.com/embed.js';
                    s.setAttribute('data-timestamp', +new Date());
                    (d.head || d.body).appendChild(s);
                  })();
                </script>
                <noscript>
                  Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
                </noscript>
              </div>
              <footer class="c-article__footer">
                <p>
                </p>
              </footer>
            </article>
            <div id="disqus_thread"></div>
            <script>
              var disqus_config = function () {
                this.page.url = "https://v2bv.net/2019/guixsd-and-nixos";
                this.page.identifier = "/2019/guixsd-and-nixos";
              };
              (function() {
                var d = document, s = d.createElement('script');
                s.src = '//sth-1.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
              })();
            </script>
            <noscript>
              Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
            </noscript>
          </div>
          <footer class="c-page__footer" id="page_footer">
          </hr>
          <p>
            <script type='text/javascript'>
              fortune = new Array(9);
              fortune[0] = 'You Door All Dalao Except Me I good vegetable ah...';
              fortune[1] = 'ã™ã¹ã¦ã¯ã‚·ãƒ¥ã‚¿ã‚¤ãƒ³ã‚ºãƒ»ã‚²ãƒ¼ãƒˆã®é¸æŠã§ã‚ã‚‹!';
              fortune[2] = 'Pen Pineapple Apple Pen ~';
              fortune[3] = 'ãªã‚“ã§ãã‚“ãªã«æ…£ã‚Œã¦ã‚“ã ã‚ˆã£ï¼';
              fortune[4] = 'ã‚ãŸã—ãŒã€å…ˆã ã£ãŸâ€¦â€¦å…ˆã ã£ãŸã‚“ã â€¦â€¦';
              fortune[5] = '+1s +1s +1s +1s +1s +1s +1s +1s';
              fortune[6] = 'ã©ã†ã—ã¦ã“ã†ãªã‚‹ã‚“ã ã‚ã†â€¦';
              fortune[7] = 'ä½ ä¹Ÿé…å§“è¶™ï¼Ÿä½ æ€éº¼æœƒå§“è¶™ï¼â€”â€”ä½ é‚£è£¡é…å§“è¶™ï¼';
              fortune[8] = 'ä½ æ‰æ˜¯æ³•å¸«ï¼ä½ å…¨å®¶éƒ½æ˜¯æ³•å¸«ï¼';
              index = Math.floor(Math.random() * fortune.length);
              document.write(fortune[index]);
            </script>
            <noscript>ã©ã†ã—ã¦ã“ã†ãªã‚‹ã‚“ã ã‚ã†â€¦</noscript>
          </p>
        </hr>
      </br>
      <p>
        &copy; KayMW 
        2020 | Powered by Jekyll | Using theme: Biu
      </p>
    </br>
    <p>Follow me on: 
      <a rel="me" href="https://s.brined.fish/@KayMW">Mastodon</a>
      &
      <a href="https://github.com/RedL0tus">Github</a>
      <span class="u-separate"></span>
      Subscribe: <a href="/feed.xml">RSS</a>
    </p>
  </footer>
</article>
</div>
</div>
</body>
</html>